9、proactor 主动调用，等待回调，用于比较耗时的网络
   reactor 被动调用，靠epoll触发

   水平触发(level-triggered，也被称为条件触发)LT: 只要满足条件，就触发一个事件(只要有数据没有被获取，内核就不断通知你)

	边缘触发(edge-triggered)ET: 每当状态变化时，触发一个事件
     
     举个读socket的例子，假定经过长时间的沉默后，现在来了100个字节，这时无论边缘触发和条件触发都会产生一个read ready notification通知应用程序可读。应用程序读了50个字节，然后重新调用api等待io事件。这时条件触发的api会因为还有50个字节可读从 而立即返回用户一个read ready notification。而边缘触发的api会因为可读这个状态没有发生变化而陷入长期等待。 因此在使用边缘触发的api时，要注意每次都要读到socket返回EWOULDBLOCK为止，否则这个socket就算废了。而使用条件触发的api 时，如果应用程序不需要写就不要关注socket可写的事件，否则就会无限次的立即返回一个write ready notification。大家常用的select就是属于条件触发这一类，长期关注socket写事件会出现CPU 100%的毛病。

8、coredump 设置
 echo %e.%t.%p.%u.core >/proc/sys/kernel/core_pattern
 vim /etc/profile
 ulimit -S -c 0 > /dev/null 2>&1

7、增加报表功能，月报类month_report
gdb thread apply all bt
创建
git submodule add https://github.com/lzxm160/libgo.git
拉取
git submodule update --init --recursive

5、无法集成libmicrohttpd的代码，现尝试集成libhttpserver的代码
   libhttpserver太多错误，决定弃用，毕竟要用的是muduo的模型 
   tag libhttpserverdeprecated
6、干脆libmicrohttpd也放弃吧，转而用熟悉的nginx fastcgi模块，
尝试增加系统监控模块，用netdata的c插件的方式监控程序（deprecate）


1、fastcgi
yum install spawn-fcgi
yum install fcgi fcgi-devel
config nginx 
cp src/fastcgi/nginx.conf /etc/nginx/
nginx -s reload


curl -u test:test -X GET http://192.168.3.132/exchange_rate/?source=USD\&target=CNY\&time=2016-07-04\&database=os

2、mysql connect ok based on mysql-connector-cpp,tag 1.1.6,版本高的编译有问题，不支持MYSQL_TYPE_JSON
git checkout -b branch_name 1.1.6
3、extends QuotationService  exportPDF 

4、test shorturl 
curl -X GET http://192.168.3.132:8000/shorturl

wkhtmltopdf --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 testwkhtmltopdf/RENESOLA\ Global.html test.pdf


wkhtmltopdf --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 Newshop_International/WEB-INF/quotation_pdf.html test.pdf

wkhtmltopdf --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 --zoom 0.8 Newshop_International/WEB-INF/quotation_pdf.html test.pdf



/usr/local/bin/wkhtmltopdf --lowquality --image-dpi '150' --image-quality '90' --margin-bottom '15' --margin-top '30' --encoding 'UTF-8' --disable-javascript --load-error-handling 'ignore' --load-media-error-handling 'ignore' --enable-smart-shrinking --user-style-sheet '/var/www/test/htdocs/wp-content/plugins/pdfgen2/pdf.css' --footer-right '[page]' --footer-spacing '5' --header-html 'header.html' --header-spacing '5' '/tmp/knp_snappy564f1419df1016.89307204.html' '/var/www/test/htdocs/wp-content/uploads/pdf/handbuch-finanzbuchhaltung-dauerbuchung-erfassen-17352-p.pdf'

wkhtmltopdf --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 --enable-smart-shrinking --zoom 0.8 --header-html '' --footer-html '' Newshop_International/WEB-INF/quotation_pdf.html test.pdf

wkhtmltopdf --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 --enable-smart-shrinking --page-size A4 --custom-orientations PAPAPAP --print-media-type  Newshop_International/WEB-INF/quotation_pdf.html test.pdf

wkhtmltopdf --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 --enable-smart-shrinking Newshop_International/WEB-INF/quotation_pdf.html test.pdf

"C:\Program Files\wkhtmltopdf\bin\wkhtmltopdf" --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 --zoom 0.7 Newshop_International/WEB-INF/1.html test.pdf





"C:\Program Files\wkhtmltopdf\bin\wkhtmltopdf" --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 Newshop_International/WEB-INF/1.html test.pdf

"C:\Program Files\wkhtmltopdf\bin\wkhtmltopdf" --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 --enable-smart-shrinking Newshop_International/WEB-INF/quotation_pdf.html test.pdf

"C:\Program Files\wkhtmltopdf\bin\wkhtmltopdf" --margin-bottom 0 --margin-left 0 --margin-right 0 --margin-top 0 Newshop_International/WEB-INF/quotation_pdf.html test.pdf

select * from apollo_os.t_currency_daily_exchange_rate where exchange_rate_id='2OEYIU71AHYVJYWXX00S' and (createBy='exchange_gw' or createBy='exchange_gw_rest') and exchange_date='2016-07-14'

PDFUtil.exportPDF(

@RequestMapping(value = "downloadPDF/{pdfType}")
	public void downloadPDF(@PathVariable String pdfType) throws IOException {
		String basePath = ContextLoader.getCurrentWebApplicationContext().getServletContext().getRealPath("/");
		String path = "file/" + contextReader.getContextWebsite().getDomainName() + "/" + BaseServerProperties.pdfPath;
		String fileName = quotationService.exportPDF(basePath + path,pdfType);
		Requests.redirect("/" + path + "/" + fileName);
	}